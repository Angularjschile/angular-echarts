!function(){"use strict";function e(e){var t=[];return angular.forEach(e[0].datapoints,function(e){t.push(e.x)}),{type:"category",boundaryGap:!1,data:t}}function t(e,t,o){var l=[];return angular.forEach(e,function(e){var r=[];angular.forEach(e.datapoints,function(e){r.push(e.y)});var n={type:o||"line",name:e.name,data:r};"area"===o&&(n.type="line",n.itemStyle={normal:{areaStyle:{type:"default"}}}),"gauge"===o&&(n=angular.extend(n,{splitNumber:10,axisLine:{lineStyle:{color:[[.2,"#228b22"],[.8,"#48b"],[1,"#ff4500"]],width:8}},axisTick:{splitNumber:10,length:12,lineStyle:{color:"auto"}},axisLabel:{textStyle:{color:"auto"}},splitLine:{show:!0,length:30,lineStyle:{color:"auto"}},pointer:{width:5},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{fontWeight:"bolder"}},detail:{formatter:"{value}%",textStyle:{color:"auto",fontWeight:"bolder"}}},t.gauge||{})),i(o)||(n.data=[],angular.forEach(e.datapoints,function(e){n.data.push({value:e.y,name:e.x})})),a(o)&&(n.type="pie",n.center=t.center||["40%","50%"],n.radius=t.radius||"60%","donut"===o&&(n.radius=t.radius||["50%","70%"],n=angular.extend(n,{itemStyle:{normal:{label:{show:!1},labelLine:{show:!1}},emphasis:{label:{show:!0,position:"center",textStyle:{fontSize:"50",fontWeight:"bold"}}}}},t.donut||{}))),t.stack&&(n.stack="total"),l.push(n)}),l}function a(e){return["pie","donut"].indexOf(e)>-1}function i(e){return["line","bar","area"].indexOf(e)>-1}function o(e,t,i){var o={data:[]};return a(i)?(angular.forEach(e[0].datapoints,function(e){o.data.push(e.x)}),o.orient="verticle",o.x="right",o.y="center"):angular.forEach(e,function(e){o.data.push(e.name)}),angular.extend(o,t.legend||{})}function l(e,t,a){if(angular.isObject(t.tooltip))return t.tooltip;var i={};switch(a){case"line":case"area":i.trigger="axis";break;case"pie":case"donut":case"bar":case"gauge":i.trigger="item"}return"pie"===a&&(i.formatter="{a} <br/>{b}: {c} ({d}%)"),i}function r(e,t,i){return angular.isObject(t.title)?t.title:a(i)?null:{text:t.title,subtext:t.subtitle||""}}function n(a,n,c){n=angular.extend({showXAxis:!0,showYAxis:!0,showLegend:!0},n);var d={title:r(a,n,c),tooltip:l(a,n,c),legend:o(a,n,c),toolbox:{show:!1},grid:{x:0,y:10},calculable:!1,xAxis:[e(a,n,c)],yAxis:[{type:"value"}],series:t(a,n,c)};return n.showXAxis||angular.forEach(d.xAxis,function(e){e.axisLine={show:!1},e.axisLabel={show:!1},e.axisTick={show:!1}}),n.showYAxis||angular.forEach(d.yAxis,function(e){e.axisLine={show:!1},e.axisLabel={show:!1},e.axisTick={show:!1}}),n.showLegend&&"gauge"!==c||delete d.legend,i(c)||(delete d.xAxis,delete d.yAxis,delete d.grid),d}function c(e){return function(t,a,i){function o(){var a=n(t.data,t.config,e);f.setOption(a),t.config.debug&&console.log(a)}var l=a.find("div")[0],r=i.width||s,c=i.height||u;l.style.width=r+"px",l.style.height=c+"px";var f=echarts.init(l,d(t.config.theme||"macarons"));o(),t.$watch(function(){return t.config},function(e){e&&o()}),t.$watch(function(){return t.data},function(e){e&&o()})}}function d(){var e={color:["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],title:{itemGap:8,textStyle:{fontWeight:"normal",color:"#008acd"}},legend:{itemGap:8},dataRange:{itemWidth:15,color:["#2ec7c9","#b6a2de"]},toolbox:{color:["#1e90ff","#1e90ff","#1e90ff","#1e90ff"],effectiveColor:"#ff4500",itemGap:8},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd",width:1}},axisTick:{lineStyle:{color:"#008acd",width:1}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd",width:1}},axisTick:{lineStyle:{color:"#008acd",width:1}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},polar:{axisLine:{lineStyle:{color:"#ddd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},splitLine:{lineStyle:{color:"#ddd"}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},bar:{itemStyle:{normal:{borderRadius:5},emphasis:{borderRadius:5}}},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},k:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{width:1,color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},radar:{symbol:"emptyCircle",symbolSize:3},map:{itemStyle:{normal:{areaStyle:{color:"#ddd"},label:{textStyle:{color:"#d87a80"}}},emphasis:{areaStyle:{color:"#fe994e"},label:{textStyle:{color:"rgb(100,0,0)"}}}}},force:{itemStyle:{normal:{linkStyle:{strokeColor:"#1e90ff"}}}},chord:{padding:4,itemStyle:{normal:{lineStyle:{width:1,color:"rgba(128, 128, 128, 0.5)"},chordStyle:{lineStyle:{width:1,color:"rgba(128, 128, 128, 0.5)"}}},emphasis:{lineStyle:{width:1,color:"rgba(128, 128, 128, 0.5)"},chordStyle:{lineStyle:{width:1,color:"rgba(128, 128, 128, 0.5)"}}}}},gauge:{startAngle:225,endAngle:-45,axisLine:{show:!0,lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},axisLabel:{textStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5,color:"auto"},title:{textStyle:{color:"#333"}},detail:{textStyle:{color:"auto"}}},textStyle:{fontFamily:"微软雅黑, Arial, Verdana, sans-serif"}};return e}var s=400,u=300;angular.module("angular-echarts",[]).directive("lineChart",function(){return{restrict:"EA",template:"<div></div>",scope:{config:"=config",data:"=data"},link:c("line")}}).directive("barChart",function(){return{restrict:"EA",template:"<div></div>",scope:{config:"=config",data:"=data"},link:c("bar")}}).directive("areaChart",function(){return{restrict:"EA",template:"<div></div>",scope:{config:"=config",data:"=data"},link:c("area")}}).directive("pieChart",function(){return{restrict:"EA",template:"<div></div>",scope:{config:"=config",data:"=data"},link:c("pie")}}).directive("donutChart",function(){return{restrict:"EA",template:"<div></div>",scope:{config:"=config",data:"=data"},link:c("donut")}}).directive("gaugeChart",function(){return{restrict:"EA",template:"<div></div>",scope:{config:"=config",data:"=data"},link:c("gauge")}})}();